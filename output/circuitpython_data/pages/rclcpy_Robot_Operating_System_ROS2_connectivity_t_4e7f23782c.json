{
  "url": "https://docs.circuitpython.org/en/latest/shared-bindings/rclcpy/index.html",
  "title": "rclcpy – Robot Operating System (ROS2) connectivity through micro-ROS",
  "content": "The rclcpy module contains basic classes and connectivity options for communicating with a ROS network running on a linux machine, using the eProsima’s micro-ROS client API.\n\nThe underlying micro-ROS system uses a resource-constrained middleware layer (XRCE-DDS) that must be connected to an agent running within ROS2 on a host Linux computer. The API exposed by Circuitpython aims to be close to the standard Python API for ROS2, rclpy with minor additions to support connecting to this agent.\n\nWifi must be connected before calling any rclcpy functions. As with rclpy, the rclcpy.init() function must be run before creating any ROS objects. Child objects, such as publishers, must be created by their parent objects. For example:\n\nAvailable on these boards ESP32-S3-DevKitC-1-N8R2 (ROS version) M5Stack Cardputer (ROS version)\n\nInitialize micro-ROS and connect to a micro-ROS agent.\n\nThis function starts ROS communications and connects to the micro-ROS agent on a linux computer. It must be called before creating ROS objects.\n\nagent_ip (str) – The IP address of the micro-ROS agent\n\nagent_port (str) – The port number of the micro-ROS agent as a string\n\ndomain_id (int) – The ROS 2 domain ID for network isolation and organization. Devices with the same domain ID can communicate with each other.\n\nCreates an instance of a ROS2 Node. Nodes can be used to create other ROS entities like publishers or subscribers. Nodes must have a unique name, and may also be constructed from their class.\n\nnode_name (str) – The name of the node. Must be a valid ROS 2 node name.\n\nnamespace (str) – The namespace for the node. If None, the node will be created in the root namespace.\n\nCreates an instance of a ROS2 Node. Nodes can be used to create other ROS entities like publishers or subscribers. Nodes must have a unique name, and may also be constructed from their class.\n\nnode_name (str) – The name of the node. Must be a valid ROS 2 node name\n\nnamespace (str) – The namespace for the node. If None, the node will be created in the root namespace\n\nDeinitializes the node and frees any hardware or remote agent resources used by it. Deinitialized nodes cannot be used again.\n\nCreate a publisher for a given topic string.\n\nCreates an instance of a ROS2 Publisher.\n\ntopic (str) – The name of the topic\n\nA new Publisher object for the specified topic\n\nGet the name of the node.\n\nGet the namespace of the node.\n\nPublishers cannot be created directly.\n\nUse Node.create_publisher() to create a publisher from a node.\n\nNotImplementedError – Always, as direct instantiation is not supported\n\nDeinitializes the publisher and frees any hardware or remote agent resources used by it. Deinitialized publishers cannot be used again.\n\nPublish a 32-bit signed integer message to the topic.\n\nmessage (int) – The integer value to publish. Must be within the range of a 32-bit signed integer (-2,147,483,648 to 2,147,483,647)\n\nGet the name of the topic this publisher publishes to.\n\nThe topic name as specified when the publisher was created",
  "headings": [
    {
      "level": "h1",
      "text": "rclcpy – Robot Operating System (ROS2) connectivity through micro-ROS",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "import os, wifi, time\nimport rclcpy\nwifi.radio.connect(ssid=os.getenv('CIRCUITPY_WIFI_SSID'),\n                   password=os.getenv('CIRCUITPY_WIFI_PASSWORD'))\nrclcpy.init(\"192.168.10.111\",\"8888\")\nmynode = rclcpy.Node(\"foo\")\nmypub = mynode.create_publisher(\"bar\")\nmypub.publish_int32(42)",
      "language": "python"
    }
  ],
  "patterns": [
    {
      "description": "rclcpy – Robot Operating System (ROS2) connectivity through micro-ROS The rclcpy module contains basic classes and connectivity options for communicating with a ROS network running on a linux machine, using the eProsima’s micro-ROS client API. The underlying micro-ROS system uses a resource-constrained middleware layer (XRCE-DDS) that must be connected to an agent running within ROS2 on a host Linux computer. The API exposed by Circuitpython aims to be close to the standard Python API for ROS2, rclpy with minor additions to support connecting to this agent. Wifi must be connected before calling any rclcpy functions. As with rclpy, the rclcpy.init() function must be run before creating any ROS objects. Child objects, such as publishers, must be created by their parent objects. For example: import os, wifi, time import rclcpy wifi.radio.connect(ssid=os.getenv('CIRCUITPY_WIFI_SSID'), password=os.getenv('CIRCUITPY_WIFI_PASSWORD')) rclcpy.init(\"192.168.10.111\",\"8888\") mynode = rclcpy.Node(\"foo\") mypub = mynode.create_publisher(\"bar\") mypub.publish_int32(42) Available on these boards ESP32-S3-DevKitC-1-N8R2 (ROS version) M5Stack Cardputer (ROS version) rclcpy.init(agent_ip: str, agent_port: str, *, domain_id: int = 0) → None Initialize micro-ROS and connect to a micro-ROS agent. This function starts ROS communications and connects to the micro-ROS agent on a linux computer. It must be called before creating ROS objects. Parameters: agent_ip (str) – The IP address of the micro-ROS agent agent_port (str) – The port number of the micro-ROS agent as a string domain_id (int) – The ROS 2 domain ID for network isolation and organization. Devices with the same domain ID can communicate with each other. rclcpy.create_node(node_name: str, *, namespace: str | None = None) → Node Create a Node. Creates an instance of a ROS2 Node. Nodes can be used to create other ROS entities like publishers or subscribers. Nodes must have a unique name, and may also be constructed from their class. Parameters: node_name (str) – The name of the node. Must be a valid ROS 2 node name. namespace (str) – The namespace for the node. If None, the node will be created in the root namespace. Returns: A new Node object Return type: Node class rclcpy.Node(node_name: str, *, namespace: str | None = None) A ROS2 Node Create a Node. Creates an instance of a ROS2 Node. Nodes can be used to create other ROS entities like publishers or subscribers. Nodes must have a unique name, and may also be constructed from their class. Parameters: node_name (str) – The name of the node. Must be a valid ROS 2 node name namespace (str) – The namespace for the node. If None, the node will be created in the root namespace deinit() → None Deinitializes the node and frees any hardware or remote agent resources used by it. Deinitialized nodes cannot be used again. create_publisher(topic: str) → Publisher Create a publisher for a given topic string. Creates an instance of a ROS2 Publisher. Parameters: topic (str) – The name of the topic Returns: A new Publisher object for the specified topic Return type: Publisher get_name() → str Get the name of the node. Returns: The node’s name Return type: str get_namespace() → str Get the namespace of the node. Returns: The node’s namespace Return type: str class rclcpy.Publisher A ROS2 publisher Publishers cannot be created directly. Use Node.create_publisher() to create a publisher from a node. Raises: NotImplementedError – Always, as direct instantiation is not supported deinit() → None Deinitializes the publisher and frees any hardware or remote agent resources used by it. Deinitialized publishers cannot be used again. publish_int32(message: int) → None Publish a 32-bit signed integer message to the topic. Parameters: message (int) – The integer value to publish. Must be within the range of a 32-bit signed integer (-2,147,483,648 to 2,147,483,647) get_topic_name() → str Get the name of the topic this publisher publishes to. Returns: The topic name as specified when the publisher was created Return type: str",
      "code": "rclcpy"
    },
    {
      "description": "Wifi must be connected before calling any rclcpy functions. As with rclpy, the rclcpy.init() function must be run before creating any ROS objects. Child objects, such as publishers, must be created by their parent objects. For example:",
      "code": "rclcpy"
    }
  ],
  "links": [
    "https://docs.circuitpython.org/en/latest/docs/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/support_matrix.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_bleio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_eve/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_pew/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_pixelmap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_stage/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/adafruit_bus_device/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/adafruit_pixelbuf/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/aesio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/alarm/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/analogbufio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/analogio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/atexit/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiobusio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiocore/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiodelays/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiofilters/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiofreeverb/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audioio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiomixer/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiomp3/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiopwmio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/aurora_epaper/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitbangio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitmapfilter/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitmaptools/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitops/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/board/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/busdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/busio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/camera/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/canio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/codeop/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/countio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/cyw43/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/digitalio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/displayio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/dotclockframebuffer/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/dualbank/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/epaperdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espcamera/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espidf/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espnow/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espulp/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/floppyio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/fontio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/fourwire/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/framebufferio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/frequencyio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/getpass/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/gifio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/gnss/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/hashlib/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/i2cdisplaybus/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/i2ctarget/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/imagecapture/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ipaddress/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/is31fl3741/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/jpegio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/keypad/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/keypad_demux/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/locale/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/lvfontio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/math/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/max3421e/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/mdns/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/memorymap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/memorymonitor/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/microcontroller/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/micropython/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/mipidsi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/msgpack/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/neopixel_write/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/nvm/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/onewireio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/os/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/paralleldisplaybus/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/picodvi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ps2io/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/pulseio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/pwmio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/qrio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rainbowio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/random/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rclcpy/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rgbmatrix/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rotaryio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rp2pio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rtc/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/samd/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sdcardio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sdioio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sharpdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/socketpool/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/spitarget/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ssl/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/storage/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/struct/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/supervisor/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/synthio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/terminalio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/tilepalettemapper/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/time/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/touchio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/traceback/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/uheap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ulab/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_cdc/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_hid/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_host/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_midi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_video/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ustack/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/vectorio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/videocore/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/warnings/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/watchdog/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/wifi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/zlib/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/help.html",
    "https://docs.circuitpython.org/en/latest/docs/library/index.html",
    "https://docs.circuitpython.org/en/latest/docs/supported_ports.html",
    "https://docs.circuitpython.org/en/latest/docs/troubleshooting.html",
    "https://docs.circuitpython.org/en/latest/docs/libraries.html",
    "https://docs.circuitpython.org/en/latest/docs/workflows.html",
    "https://docs.circuitpython.org/en/latest/docs/environment.html",
    "https://docs.circuitpython.org/en/latest/docs/design_guide.html",
    "https://docs.circuitpython.org/en/latest/docs/porting.html",
    "https://docs.circuitpython.org/en/latest/docs/common_hal.html",
    "https://docs.circuitpython.org/en/latest/docs/reference/glossary.html",
    "https://docs.circuitpython.org/en/latest/docs/LICENSE.html",
    "https://docs.circuitpython.org/en/latest/docs/library/builtins.html"
  ]
}