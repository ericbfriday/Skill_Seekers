{
  "url": "https://docs.circuitpython.org/en/latest/shared-bindings/canio/index.html",
  "title": "canio – CAN bus access",
  "content": "The canio module contains low level classes to support the CAN bus protocol on microcontrollers that have built-in CAN peripherals.\n\nBoards like the Adafruit RP2040 CAN Bus Feather that use an MCP2515 or compatible chip use the adafruit_mcp2515 module instead.\n\nCAN and Listener classes change hardware state and should be deinitialized when they are no longer needed if the program continues after use. To do so, either call deinit() or use a context manager. See Lifetime and ContextManagers for more info.\n\nThis example will write the data ‘adafruit’ onto the CAN bus to any device listening for message id 0x0408.\n\nA CAN bus involves a transceiver, which is often a separate chip with a “standby” pin. If your board has a CAN_STANDBY pin, ensure to set it to an output with the value False to enable the transceiver.\n\nOther implementations of the CAN device may exist (for instance, attached via an SPI bus). If so their constructor arguments may differ, but otherwise we encourage implementors to follow the API that the core uses.\n\nFor more information on working with this module, refer to this Learn Guide on using it.\n\nAvailable on these boards 01Space 0.42 OLED ESP32C3 AITHinker ESP32-C3S_Kit AITHinker ESP32-C3S_Kit_2M ATMegaZero ESP32-S2 Adafruit Feather ESP32 V2 Adafruit Feather ESP32-C6 4MB Flash No PSRAM Adafruit Feather ESP32-S2 Reverse TFT Adafruit Feather ESP32-S2 TFT Adafruit Feather ESP32-S3 Reverse TFT Adafruit Feather ESP32-S3 TFT Adafruit Feather ESP32S2 Adafruit Feather ESP32S3 4MB Flash 2MB PSRAM Adafruit Feather ESP32S3 No PSRAM Adafruit Feather HUZZAH32 Adafruit Feather M4 CAN Adafruit Feather STM32F405 Express Adafruit FunHouse Adafruit HUZZAH32 Breakout Adafruit ItsyBitsy ESP32 Adafruit MagTag Adafruit MatrixPortal S3 Adafruit Metro ESP32S2 Adafruit Metro ESP32S3 Adafruit Mini Sparkle Motion Adafruit QT Py ESP32 PICO Adafruit QT Py ESP32-S3 4MB Flash 2MB PSRAM Adafruit QT Py ESP32-S3 no psram Adafruit QT Py ESP32C3 Adafruit QT Py ESP32S2 Adafruit Sparkle Motion Adafruit Sparkle Motion Stick Adafruit Vindie S2 Adafruit-Qualia-S3-RGB666 Ai Thinker ESP32-CAM Arduino Nano ESP32 Artisense Reference Design RD00 AutosportLabs-ESP32-CAN-X2 BARDUINO 4.0.2 BLING! BPI-Bit-S2 BPI-Leaf-S3 BPI-PicoW-S3 BastWiFi Bee-Data-Logger Bee-Motion-S3 Bee-S3 BlizzardS3 CRCibernetica IdeaBoard CircuitART Zero S3 ColumbiaDSL-Sensor-Board-V1 CrowPanel 4.2 EPaper CrumpS2 Cytron Maker Feather AIoT S3 DFRobot Beetle ESP32-C3 DFRobot FireBeetle 2 ESP32-S3 Deneyap Kart Deneyap Kart 1A Deneyap Kart 1A v2 Deneyap Kart G Deneyap Mini Deneyap Mini v2 EDGES3D ES3ink ESP 12k NodeMCU ESP32 Devkit V1 ESP32-C3-DevKitM-1 ESP32-C3-Lyra-V2 ESP32-C6-DevKitC-1-N8 ESP32-C6-DevKitM-1 ESP32-H2-DevKitM-1 ESP32-S2-DevKitC-1-N4 ESP32-S2-DevKitC-1-N4R2 ESP32-S2-DevKitC-1-N8R2 ESP32-S3-Box-2.5 ESP32-S3-Box-Lite ESP32-S3-DevKitC-1-N16 ESP32-S3-DevKitC-1-N32R8 ESP32-S3-DevKitC-1-N8 ESP32-S3-DevKitC-1-N8R2 ESP32-S3-DevKitC-1-N8R2 (ROS version) ESP32-S3-DevKitC-1-N8R8 ESP32-S3-DevKitC-1-N8R8-with-HACKTABLET ESP32-S3-DevKitM-1-N8 ESP32-S3-EYE ESP32-S3-USB-OTG-N8 Elecrow CrowPanel Espressif ESP32 DevKitc V4 WROOM-32E Espressif ESP32 DevKitc V4 WROVER Espressif ESP32 TTGO T8 v1.7 Espressif ESP32-LyraT Espressif-ESP32-S3-LCD-EV-Board Espressif-ESP32-S3-LCD-EV-Board_v1.5 FeatherS2 FeatherS2 Neo FeatherS2 PreRelease FeatherS3 FeatherS3 Neo Flipper Zero Wi-Fi Dev Franzininho WIFI w/Wroom Franzininho WIFI w/Wrover Freenove ESP32-WROVER-DEV-CAM Gravitech Cucumber M Gravitech Cucumber MS Gravitech Cucumber R Gravitech Cucumber RS HMI-DevKit-1.1 Hardkernel Odroid Go Heltec ESP32-S3-WIFI-LoRa-V3 Heltec Vison Master E290 Heltec Wireless Paper HexKyS2 IoTs2 Kaluga 1 LILYGO T-DISPLAY S3 v1.2 LILYGO T-Deck (Plus) LILYGO T-Display S3 Pro LILYGO T-Dongle S3 LILYGO T-QT PRO NO PSRAM LILYGO T-QT PRO PSRAM LILYGO TEMBED ESP32S3 LILYGO TTGO T-01C3 LILYGO TTGO T-DISPLAY v1.1 LILYGO TTGO T-DISPLAY v1.1 4M LILYGO TTGO T-OI PLUS LILYGO TTGO T8 ESP32-S2 LILYGO TTGO T8 ESP32-S2 w/Display LOLIN S3 16MB Flash 8MB PSRAM LOLIN S3 MINI 4MB Flash 2MB PSRAM LOLIN S3 MINI PRO 4MB Flash 2MB PSRAM LOLIN S3 PRO 16MB Flash 8MB PSRAM Lilygo T-watch 2020 V3 Luatos Core-ESP32C3 M5STACK STAMP-C3 M5Stack Atom Echo M5Stack Atom Lite M5Stack Atom Matrix M5Stack Atom U M5Stack AtomS3 M5Stack AtomS3 Lite M5Stack AtomS3U M5Stack Cardputer M5Stack Cardputer (ROS version) M5Stack Core Basic M5Stack Core Fire M5Stack Core2 M5Stack CoreS3 M5Stack Dial M5Stack DinMeter M5Stack M5Paper M5Stack Stamp-S3 M5Stack Stick C M5Stack Stick C Plus M5Stack Stick C Plus2 M5Stack Timer Camera X MORPHEANS MorphESP-240 MagiClick S3 N4R2 Maker Go ESP32C3 Supermini Maker Go ESP32C6 Supermini Maker badge by Czech maker MakerFabs-ESP32-S3-Parallel-TFT-With-Touch-7inch MicroDev microC3 MicroDev microS2 Microchip Curiosity CircuitPython MixGo CE NanoS3 Neuron OMGS3 Oak Dev Tech PixelWing ESP32S2 Oxocard Artwork Oxocard Connect Oxocard Galaxy Oxocard Science ProS3 Prokyber Ai-On-The-Edge-Cam PyboardV1_1 RGBTouch Mini Red S2-WROOM S2Mini S2Pico SAM E54 Xplained Pro SQFMI Watchy STM32F4_DISCO Saola 1 w/Wroom Saola 1 w/Wrover Seeed Studio XIAO ESP32C3 Seeed Xiao ESP32-C6 4MB Flash 512KB SRAM Seeed Xiao ESP32-S3 Sense SparkFun STM32 MicroMod Processor SparkFun Thing Plus - STM32 Spotpear ESP32C3 LCD 1.44 Spotpear ESP32C3 LCD 1.69 Sunton ESP32-2424S012 Sunton-ESP32-8048S050 Sunton-ESP32-8048S070 TTGO T8 ESP32-S2-WROOM Targett Module Clip w/Wroom Targett Module Clip w/Wrover Teensy 4.1 ThingPulse Pendrive S3 TinyC6 TinyPICO TinyPICO Nano TinyS2 TinyS3 TinyWATCH S3 VCC-GND YD-ESP32-S3 (N16R8) VCC-GND YD-ESP32-S3 (N8R8) VIDI X V1.1 Waveshare ESP32-C6 LCD 1.47 Waveshare ESP32-S2-Pico Waveshare ESP32-S2-Pico-LCD Waveshare ESP32-S3 LCD 1.47 Waveshare ESP32-S3 Touch LCD 1.47 Waveshare ESP32-S3 Touch LCD 2.8 Waveshare ESP32-S3-ETH Waveshare ESP32-S3-GEEK Waveshare ESP32-S3-Matrix Waveshare ESP32-S3-Pico Waveshare ESP32-S3-Tiny Waveshare ESP32-S3-Zero Waveshare ESP32S3 LCD 1.28 Waveshare ESP32S3 Touch LCD 2 WeAct ESP32-C6 (4MB) WeAct ESP32-C6 (8MB) WeMos LOLIN32 Lite Wemos Lolin C3 Mini Wemos Lolin C3 Pico cezerio dev ESP32C6 nanoESP32-S2 w/Wrover nanoESP32-S2 w/Wroom senseBox MCU-S2 ESP32S2 senseBox-eye ESP32S3 sunton_esp32_2432S024C sunton_esp32_2432S028 sunton_esp32_2432S032C\n\nThe state of the CAN bus\n\nThe bus is in the normal (active) state\n\nThe bus is in the normal (active) state, but a moderate number of errors have occurred recently.\n\nNot all implementations may use ERROR_WARNING. Do not rely on seeing ERROR_WARNING before ERROR_PASSIVE.\n\nThe bus is in the passive state due to the number of errors that have occurred recently.\n\nThis device will acknowledge packets it receives, but cannot transmit messages. If additional errors occur, this device may progress to BUS_OFF. If it successfully acknowledges other packets on the bus, it can return to ERROR_WARNING or ERROR_ACTIVE and transmit packets.\n\nThe bus has turned off due to the number of errors that have occurred recently. It must be restarted before it will send or receive packets. This device will neither send or acknowledge packets on the bus.\n\nA common shared-bus protocol. The rx and tx pins are generally connected to a transceiver which controls the H and L pins on a shared bus.\n\nrx (Pin) – the pin to receive with\n\ntx (Pin) – the pin to transmit with\n\nbaudrate (int) – The bit rate of the bus in Hz. All devices on the bus must agree on this value.\n\nloopback (bool) – When True the rx pin’s value is ignored, and the device receives the packets it sends.\n\nsilent (bool) – When True the tx pin is always driven to the high logic level. This mode can be used to “sniff” a CAN bus without interfering.\n\nauto_restart (bool) – If True, will restart communications after entering bus-off state\n\nIf True, will restart communications after entering bus-off state\n\nThe baud rate (read-only)\n\nThe number of transmit errors (read-only). Increased for a detected transmission error, decreased for successful transmission. Limited to the range from 0 to 255 inclusive. Also called TEC.\n\nThe number of receive errors (read-only). Increased for a detected reception error, decreased for successful reception. Limited to the range from 0 to 255 inclusive. Also called REC.\n\nThe current state of the bus. (read-only)\n\nIf the device is in the bus off state, restart it.\n\nStart receiving messages that match any one of the filters.\n\nCreating a listener is an expensive operation and can interfere with reception of messages by other listeners.\n\nThere is an implementation-defined maximum number of listeners and limit to the complexity of the filters.\n\nIf the hardware cannot support all the requested matches, a ValueError is raised. Note that generally there are some number of hardware filters shared among all fifos.\n\nA message can be received by at most one Listener. If more than one listener matches a message, it is undefined which one actually receives it.\n\nAn empty filter list causes all messages to be accepted.\n\nTimeout dictates how long receive() and next() will block.\n\nPlatform specific notes:\n\nSAM E5x supports two Listeners. Filter blocks are shared between the two listeners. There are 4 standard filter blocks and 4 extended filter blocks. Each block can either match 2 single addresses or a mask of addresses. The number of filter blocks can be increased, up to a hardware maximum, by rebuilding CircuitPython, but this decreases the CircuitPython free memory even if canio is not used.\n\nSTM32F405 supports two Listeners. Filter blocks are shared between the two listeners. There are 14 filter blocks. Each block can match 2 standard addresses with mask or 1 extended address with mask.\n\nESP32S2 supports one Listener. There is a single filter block, which can either match a standard address with mask or an extended address with mask.\n\ni.MX RT10xx supports one Listener and 8 filter blocks per CAN interface. Each interface is fully independent from the other. A filter block can match either a single address or a mask of addresses, both standard or extended.\n\nTrue if the device was created in loopback mode, False otherwise (read-only)\n\nSend a message on the bus with the given data and id. If the message could not be sent due to a full fifo or a bus error condition, RuntimeError is raised.\n\nTrue if the device was created in silent mode, False otherwise (read-only)\n\nDeinitialize this object, freeing its hardware resources\n\nReturns self, to allow the object to be used in a The with statement statement for resource control\n\nListens for CAN message\n\ncanio.Listener is not constructed directly, but instead by calling canio.CAN.listen.\n\nIn addition to using the receive method to retrieve a message or the in_waiting method to check for an available message, a listener can be used as an iterable, yielding messages until no message arrives within self.timeout seconds.\n\nReads a message, after waiting up to self.timeout seconds\n\nIf no message is received in time, None is returned. Otherwise, a Message or RemoteTransmissionRequest is returned.\n\nReturns the number of messages (including remote transmission requests) waiting\n\nThis method exists so that Listener can be used as an iterable\n\nReads a message, after waiting up to self.timeout seconds\n\nIf no message is received in time, raises StopIteration. Otherwise, a Message or is returned.\n\nThis method enables the Listener to be used as an iterable, for instance in a for-loop.\n\nDeinitialize this object, freeing its hardware resources\n\nReturns self, to allow the object to be used in a The with statement statement for resource control\n\nDescribe CAN bus messages to match\n\nConstruct a Match with the given properties.\n\nIf mask is not None, then the filter is for any id which matches all the nonzero bits in mask. Otherwise, it matches exactly the given id. If extended is true then only extended ids are matched, otherwise only standard ids are matched.\n\nThe optional mask of ids to match\n\nTrue to match extended ids, False to match standard ides\n\nConstruct a Message to send on a CAN bus.\n\nid (int) – The numeric ID of the message\n\ndata (bytes) – The content of the message\n\nextended (bool) – True if the message has an extended identifier, False if it has a standard identifier\n\nIn CAN, messages can have a length from 0 to 8 bytes.\n\nThe numeric ID of the message\n\nThe content of the message\n\nTrue if the message’s id is an extended id\n\nConstruct a RemoteTransmissionRequest to send on a CAN bus.\n\nid (int) – The numeric ID of the requested message\n\nlength (int) – The length of the requested message\n\nextended (bool) – True if the message has an extended identifier, False if it has a standard identifier\n\nIn CAN, messages can have a length from 0 to 8 bytes.\n\nThe numeric ID of the message\n\nTrue if the message’s id is an extended id\n\nThe length of the requested message.",
  "headings": [
    {
      "level": "h1",
      "text": "canio – CAN bus access",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "import canio\nfrom board import *\n\ncan = canio.CAN(board.CAN_RX, board.CAN_TX, baudrate=1000000)\nmessage = canio.Message(id=0x0408, data=b\"adafruit\")\ncan.send(message)\ncan.deinit()",
      "language": "python"
    }
  ],
  "patterns": [
    {
      "description": "canio – CAN bus access The canio module contains low level classes to support the CAN bus protocol on microcontrollers that have built-in CAN peripherals. Boards like the Adafruit RP2040 CAN Bus Feather that use an MCP2515 or compatible chip use the adafruit_mcp2515 module instead. CAN and Listener classes change hardware state and should be deinitialized when they are no longer needed if the program continues after use. To do so, either call deinit() or use a context manager. See Lifetime and ContextManagers for more info. For example: import canio from board import * can = canio.CAN(board.CAN_RX, board.CAN_TX, baudrate=1000000) message = canio.Message(id=0x0408, data=b\"adafruit\") can.send(message) can.deinit() This example will write the data ‘adafruit’ onto the CAN bus to any device listening for message id 0x0408. A CAN bus involves a transceiver, which is often a separate chip with a “standby” pin. If your board has a CAN_STANDBY pin, ensure to set it to an output with the value False to enable the transceiver. Other implementations of the CAN device may exist (for instance, attached via an SPI bus). If so their constructor arguments may differ, but otherwise we encourage implementors to follow the API that the core uses. For more information on working with this module, refer to this Learn Guide on using it. Available on these boards 01Space 0.42 OLED ESP32C3 AITHinker ESP32-C3S_Kit AITHinker ESP32-C3S_Kit_2M ATMegaZero ESP32-S2 Adafruit Feather ESP32 V2 Adafruit Feather ESP32-C6 4MB Flash No PSRAM Adafruit Feather ESP32-S2 Reverse TFT Adafruit Feather ESP32-S2 TFT Adafruit Feather ESP32-S3 Reverse TFT Adafruit Feather ESP32-S3 TFT Adafruit Feather ESP32S2 Adafruit Feather ESP32S3 4MB Flash 2MB PSRAM Adafruit Feather ESP32S3 No PSRAM Adafruit Feather HUZZAH32 Adafruit Feather M4 CAN Adafruit Feather STM32F405 Express Adafruit FunHouse Adafruit HUZZAH32 Breakout Adafruit ItsyBitsy ESP32 Adafruit MagTag Adafruit MatrixPortal S3 Adafruit Metro ESP32S2 Adafruit Metro ESP32S3 Adafruit Mini Sparkle Motion Adafruit QT Py ESP32 PICO Adafruit QT Py ESP32-S3 4MB Flash 2MB PSRAM Adafruit QT Py ESP32-S3 no psram Adafruit QT Py ESP32C3 Adafruit QT Py ESP32S2 Adafruit Sparkle Motion Adafruit Sparkle Motion Stick Adafruit Vindie S2 Adafruit-Qualia-S3-RGB666 Ai Thinker ESP32-CAM Arduino Nano ESP32 Artisense Reference Design RD00 AutosportLabs-ESP32-CAN-X2 BARDUINO 4.0.2 BLING! BPI-Bit-S2 BPI-Leaf-S3 BPI-PicoW-S3 BastWiFi Bee-Data-Logger Bee-Motion-S3 Bee-S3 BlizzardS3 CRCibernetica IdeaBoard CircuitART Zero S3 ColumbiaDSL-Sensor-Board-V1 CrowPanel 4.2 EPaper CrumpS2 Cytron Maker Feather AIoT S3 DFRobot Beetle ESP32-C3 DFRobot FireBeetle 2 ESP32-S3 Deneyap Kart Deneyap Kart 1A Deneyap Kart 1A v2 Deneyap Kart G Deneyap Mini Deneyap Mini v2 EDGES3D ES3ink ESP 12k NodeMCU ESP32 Devkit V1 ESP32-C3-DevKitM-1 ESP32-C3-Lyra-V2 ESP32-C6-DevKitC-1-N8 ESP32-C6-DevKitM-1 ESP32-H2-DevKitM-1 ESP32-S2-DevKitC-1-N4 ESP32-S2-DevKitC-1-N4R2 ESP32-S2-DevKitC-1-N8R2 ESP32-S3-Box-2.5 ESP32-S3-Box-Lite ESP32-S3-DevKitC-1-N16 ESP32-S3-DevKitC-1-N32R8 ESP32-S3-DevKitC-1-N8 ESP32-S3-DevKitC-1-N8R2 ESP32-S3-DevKitC-1-N8R2 (ROS version) ESP32-S3-DevKitC-1-N8R8 ESP32-S3-DevKitC-1-N8R8-with-HACKTABLET ESP32-S3-DevKitM-1-N8 ESP32-S3-EYE ESP32-S3-USB-OTG-N8 Elecrow CrowPanel Espressif ESP32 DevKitc V4 WROOM-32E Espressif ESP32 DevKitc V4 WROVER Espressif ESP32 TTGO T8 v1.7 Espressif ESP32-LyraT Espressif-ESP32-S3-LCD-EV-Board Espressif-ESP32-S3-LCD-EV-Board_v1.5 FeatherS2 FeatherS2 Neo FeatherS2 PreRelease FeatherS3 FeatherS3 Neo Flipper Zero Wi-Fi Dev Franzininho WIFI w/Wroom Franzininho WIFI w/Wrover Freenove ESP32-WROVER-DEV-CAM Gravitech Cucumber M Gravitech Cucumber MS Gravitech Cucumber R Gravitech Cucumber RS HMI-DevKit-1.1 Hardkernel Odroid Go Heltec ESP32-S3-WIFI-LoRa-V3 Heltec Vison Master E290 Heltec Wireless Paper HexKyS2 IoTs2 Kaluga 1 LILYGO T-DISPLAY S3 v1.2 LILYGO T-Deck (Plus) LILYGO T-Display S3 Pro LILYGO T-Dongle S3 LILYGO T-QT PRO NO PSRAM LILYGO T-QT PRO PSRAM LILYGO TEMBED ESP32S3 LILYGO TTGO T-01C3 LILYGO TTGO T-DISPLAY v1.1 LILYGO TTGO T-DISPLAY v1.1 4M LILYGO TTGO T-OI PLUS LILYGO TTGO T8 ESP32-S2 LILYGO TTGO T8 ESP32-S2 w/Display LOLIN S3 16MB Flash 8MB PSRAM LOLIN S3 MINI 4MB Flash 2MB PSRAM LOLIN S3 MINI PRO 4MB Flash 2MB PSRAM LOLIN S3 PRO 16MB Flash 8MB PSRAM Lilygo T-watch 2020 V3 Luatos Core-ESP32C3 M5STACK STAMP-C3 M5Stack Atom Echo M5Stack Atom Lite M5Stack Atom Matrix M5Stack Atom U M5Stack AtomS3 M5Stack AtomS3 Lite M5Stack AtomS3U M5Stack Cardputer M5Stack Cardputer (ROS version) M5Stack Core Basic M5Stack Core Fire M5Stack Core2 M5Stack CoreS3 M5Stack Dial M5Stack DinMeter M5Stack M5Paper M5Stack Stamp-S3 M5Stack Stick C M5Stack Stick C Plus M5Stack Stick C Plus2 M5Stack Timer Camera X MORPHEANS MorphESP-240 MagiClick S3 N4R2 Maker Go ESP32C3 Supermini Maker Go ESP32C6 Supermini Maker badge by Czech maker MakerFabs-ESP32-S3-Parallel-TFT-With-Touch-7inch MicroDev microC3 MicroDev microS2 Microchip Curiosity CircuitPython MixGo CE NanoS3 Neuron OMGS3 Oak Dev Tech PixelWing ESP32S2 Oxocard Artwork Oxocard Connect Oxocard Galaxy Oxocard Science ProS3 Prokyber Ai-On-The-Edge-Cam PyboardV1_1 RGBTouch Mini Red S2-WROOM S2Mini S2Pico SAM E54 Xplained Pro SQFMI Watchy STM32F4_DISCO Saola 1 w/Wroom Saola 1 w/Wrover Seeed Studio XIAO ESP32C3 Seeed Xiao ESP32-C6 4MB Flash 512KB SRAM Seeed Xiao ESP32-S3 Sense SparkFun STM32 MicroMod Processor SparkFun Thing Plus - STM32 Spotpear ESP32C3 LCD 1.44 Spotpear ESP32C3 LCD 1.69 Sunton ESP32-2424S012 Sunton-ESP32-8048S050 Sunton-ESP32-8048S070 TTGO T8 ESP32-S2-WROOM Targett Module Clip w/Wroom Targett Module Clip w/Wrover Teensy 4.1 ThingPulse Pendrive S3 TinyC6 TinyPICO TinyPICO Nano TinyS2 TinyS3 TinyWATCH S3 VCC-GND YD-ESP32-S3 (N16R8) VCC-GND YD-ESP32-S3 (N8R8) VIDI X V1.1 Waveshare ESP32-C6 LCD 1.47 Waveshare ESP32-S2-Pico Waveshare ESP32-S2-Pico-LCD Waveshare ESP32-S3 LCD 1.47 Waveshare ESP32-S3 Touch LCD 1.47 Waveshare ESP32-S3 Touch LCD 2.8 Waveshare ESP32-S3-ETH Waveshare ESP32-S3-GEEK Waveshare ESP32-S3-Matrix Waveshare ESP32-S3-Pico Waveshare ESP32-S3-Tiny Waveshare ESP32-S3-Zero Waveshare ESP32S3 LCD 1.28 Waveshare ESP32S3 Touch LCD 2 WeAct ESP32-C6 (4MB) WeAct ESP32-C6 (8MB) WeMos LOLIN32 Lite Wemos Lolin C3 Mini Wemos Lolin C3 Pico cezerio dev ESP32C6 nanoESP32-S2 w/Wrover nanoESP32-S2 w/Wroom senseBox MCU-S2 ESP32S2 senseBox-eye ESP32S3 sunton_esp32_2432S024C sunton_esp32_2432S028 sunton_esp32_2432S032C class canio.BusState The state of the CAN bus ERROR_ACTIVE: object The bus is in the normal (active) state ERROR_WARNING: object The bus is in the normal (active) state, but a moderate number of errors have occurred recently. Note Not all implementations may use ERROR_WARNING. Do not rely on seeing ERROR_WARNING before ERROR_PASSIVE. ERROR_PASSIVE: object The bus is in the passive state due to the number of errors that have occurred recently. This device will acknowledge packets it receives, but cannot transmit messages. If additional errors occur, this device may progress to BUS_OFF. If it successfully acknowledges other packets on the bus, it can return to ERROR_WARNING or ERROR_ACTIVE and transmit packets. BUS_OFF: object The bus has turned off due to the number of errors that have occurred recently. It must be restarted before it will send or receive packets. This device will neither send or acknowledge packets on the bus. class canio.CAN(tx: microcontroller.Pin, rx: microcontroller.Pin, *, baudrate: int = 250000, loopback: bool = False, silent: bool = False, auto_restart: bool = False) CAN bus protocol A common shared-bus protocol. The rx and tx pins are generally connected to a transceiver which controls the H and L pins on a shared bus. Parameters: rx (Pin) – the pin to receive with tx (Pin) – the pin to transmit with baudrate (int) – The bit rate of the bus in Hz. All devices on the bus must agree on this value. loopback (bool) – When True the rx pin’s value is ignored, and the device receives the packets it sends. silent (bool) – When True the tx pin is always driven to the high logic level. This mode can be used to “sniff” a CAN bus without interfering. auto_restart (bool) – If True, will restart communications after entering bus-off state auto_restart: bool If True, will restart communications after entering bus-off state baudrate: int The baud rate (read-only) transmit_error_count: int The number of transmit errors (read-only). Increased for a detected transmission error, decreased for successful transmission. Limited to the range from 0 to 255 inclusive. Also called TEC. receive_error_count: int The number of receive errors (read-only). Increased for a detected reception error, decreased for successful reception. Limited to the range from 0 to 255 inclusive. Also called REC. state: BusState The current state of the bus. (read-only) restart() → None If the device is in the bus off state, restart it. listen(matches: Sequence[Match] | None = None, *, timeout: float = 10) → Listener Start receiving messages that match any one of the filters. Creating a listener is an expensive operation and can interfere with reception of messages by other listeners. There is an implementation-defined maximum number of listeners and limit to the complexity of the filters. If the hardware cannot support all the requested matches, a ValueError is raised. Note that generally there are some number of hardware filters shared among all fifos. A message can be received by at most one Listener. If more than one listener matches a message, it is undefined which one actually receives it. An empty filter list causes all messages to be accepted. Timeout dictates how long receive() and next() will block. Platform specific notes: SAM E5x supports two Listeners. Filter blocks are shared between the two listeners. There are 4 standard filter blocks and 4 extended filter blocks. Each block can either match 2 single addresses or a mask of addresses. The number of filter blocks can be increased, up to a hardware maximum, by rebuilding CircuitPython, but this decreases the CircuitPython free memory even if canio is not used. STM32F405 supports two Listeners. Filter blocks are shared between the two listeners. There are 14 filter blocks. Each block can match 2 standard addresses with mask or 1 extended address with mask. ESP32S2 supports one Listener. There is a single filter block, which can either match a standard address with mask or an extended address with mask. i.MX RT10xx supports one Listener and 8 filter blocks per CAN interface. Each interface is fully independent from the other. A filter block can match either a single address or a mask of addresses, both standard or extended. loopback: bool True if the device was created in loopback mode, False otherwise (read-only) send(message: RemoteTransmissionRequest | Message) → None Send a message on the bus with the given data and id. If the message could not be sent due to a full fifo or a bus error condition, RuntimeError is raised. silent: bool True if the device was created in silent mode, False otherwise (read-only) deinit() → None Deinitialize this object, freeing its hardware resources __enter__() → CAN Returns self, to allow the object to be used in a The with statement statement for resource control __exit__(unused1: Type[BaseException] | None, unused2: BaseException | None, unused3: types.TracebackType | None) → None Calls deinit() class canio.Listener Listens for CAN message canio.Listener is not constructed directly, but instead by calling canio.CAN.listen. In addition to using the receive method to retrieve a message or the in_waiting method to check for an available message, a listener can be used as an iterable, yielding messages until no message arrives within self.timeout seconds. receive() → RemoteTransmissionRequest | Message | None Reads a message, after waiting up to self.timeout seconds If no message is received in time, None is returned. Otherwise, a Message or RemoteTransmissionRequest is returned. in_waiting() → int Returns the number of messages (including remote transmission requests) waiting __iter__() → Listener Returns self This method exists so that Listener can be used as an iterable __next__() → RemoteTransmissionRequest | Message Reads a message, after waiting up to self.timeout seconds If no message is received in time, raises StopIteration. Otherwise, a Message or is returned. This method enables the Listener to be used as an iterable, for instance in a for-loop. deinit() → None Deinitialize this object, freeing its hardware resources __enter__() → CAN Returns self, to allow the object to be used in a The with statement statement for resource control __exit__(unused1: Type[BaseException] | None, unused2: BaseException | None, unused3: types.TracebackType | None) → None Calls deinit() timeout: float class canio.Match(id: int, *, mask: int | None = None, extended: bool = False) Describe CAN bus messages to match Construct a Match with the given properties. If mask is not None, then the filter is for any id which matches all the nonzero bits in mask. Otherwise, it matches exactly the given id. If extended is true then only extended ids are matched, otherwise only standard ids are matched. id: int The id to match mask: int The optional mask of ids to match extended: bool True to match extended ids, False to match standard ides class canio.Message(id: int, data: bytes, *, extended: bool = False) Construct a Message to send on a CAN bus. Parameters: id (int) – The numeric ID of the message data (bytes) – The content of the message extended (bool) – True if the message has an extended identifier, False if it has a standard identifier In CAN, messages can have a length from 0 to 8 bytes. id: int The numeric ID of the message data: bytes The content of the message extended: bool True if the message’s id is an extended id class canio.RemoteTransmissionRequest(id: int, length: int, *, extended: bool = False) Construct a RemoteTransmissionRequest to send on a CAN bus. Parameters: id (int) – The numeric ID of the requested message length (int) – The length of the requested message extended (bool) – True if the message has an extended identifier, False if it has a standard identifier In CAN, messages can have a length from 0 to 8 bytes. id: int The numeric ID of the message extended: bool True if the message’s id is an extended id length: int The length of the requested message.",
      "code": "canio"
    },
    {
      "description": "For example:",
      "code": "import canio\nfrom board import *\n\ncan = canio.CAN(board.CAN_RX, board.CAN_TX, baudrate=1000000)\nmessage = canio.Message(id=0x0408, data=b\"adafruit\")\ncan.send(message)\ncan.deinit()"
    }
  ],
  "links": [
    "https://docs.circuitpython.org/en/latest/docs/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/support_matrix.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_bleio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_eve/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_pew/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_pixelmap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_stage/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/adafruit_bus_device/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/adafruit_pixelbuf/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/aesio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/alarm/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/analogbufio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/analogio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/atexit/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiobusio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiocore/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiodelays/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiofilters/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiofreeverb/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audioio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiomixer/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiomp3/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiopwmio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/aurora_epaper/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitbangio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitmapfilter/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitmaptools/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitops/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/board/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/busdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/busio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/camera/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/canio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/codeop/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/countio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/cyw43/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/digitalio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/displayio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/dotclockframebuffer/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/dualbank/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/epaperdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espcamera/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espidf/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espnow/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espulp/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/floppyio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/fontio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/fourwire/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/framebufferio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/frequencyio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/getpass/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/gifio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/gnss/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/hashlib/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/i2cdisplaybus/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/i2ctarget/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/imagecapture/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ipaddress/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/is31fl3741/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/jpegio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/keypad/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/keypad_demux/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/locale/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/lvfontio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/math/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/max3421e/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/mdns/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/memorymap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/memorymonitor/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/microcontroller/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/micropython/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/mipidsi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/msgpack/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/neopixel_write/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/nvm/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/onewireio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/os/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/paralleldisplaybus/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/picodvi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ps2io/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/pulseio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/pwmio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/qrio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rainbowio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/random/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rclcpy/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rgbmatrix/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rotaryio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rp2pio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rtc/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/samd/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sdcardio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sdioio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sharpdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/socketpool/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/spitarget/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ssl/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/storage/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/struct/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/supervisor/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/synthio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/terminalio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/tilepalettemapper/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/time/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/touchio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/traceback/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/uheap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ulab/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_cdc/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_hid/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_host/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_midi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_video/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ustack/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/vectorio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/videocore/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/warnings/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/watchdog/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/wifi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/zlib/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/help.html",
    "https://docs.circuitpython.org/en/latest/docs/library/index.html",
    "https://docs.circuitpython.org/en/latest/docs/supported_ports.html",
    "https://docs.circuitpython.org/en/latest/docs/troubleshooting.html",
    "https://docs.circuitpython.org/en/latest/docs/libraries.html",
    "https://docs.circuitpython.org/en/latest/docs/workflows.html",
    "https://docs.circuitpython.org/en/latest/docs/environment.html",
    "https://docs.circuitpython.org/en/latest/docs/design_guide.html",
    "https://docs.circuitpython.org/en/latest/docs/porting.html",
    "https://docs.circuitpython.org/en/latest/docs/common_hal.html",
    "https://docs.circuitpython.org/en/latest/docs/reference/glossary.html",
    "https://docs.circuitpython.org/en/latest/docs/LICENSE.html"
  ]
}