{
  "url": "https://docs.circuitpython.org/en/latest/shared-bindings/espnow/index.html",
  "title": "espnow – ESP-NOW Module",
  "content": "The espnow module provides an interface to the ESP-NOW protocol provided by Espressif on its SoCs.\n\nAvailable on these boards 01Space 0.42 OLED ESP32C3 AITHinker ESP32-C3S_Kit AITHinker ESP32-C3S_Kit_2M ATMegaZero ESP32-S2 Adafruit Camera Adafruit Feather ESP32 V2 Adafruit Feather ESP32-C6 4MB Flash No PSRAM Adafruit Feather ESP32-S2 Reverse TFT Adafruit Feather ESP32-S2 TFT Adafruit Feather ESP32-S3 Reverse TFT Adafruit Feather ESP32-S3 TFT Adafruit Feather ESP32S2 Adafruit Feather ESP32S3 4MB Flash 2MB PSRAM Adafruit Feather ESP32S3 No PSRAM Adafruit Feather HUZZAH32 Adafruit FunHouse Adafruit HUZZAH32 Breakout Adafruit ItsyBitsy ESP32 Adafruit MagTag Adafruit MatrixPortal S3 Adafruit Metro ESP32S2 Adafruit Metro ESP32S3 Adafruit Mini Sparkle Motion Adafruit QT Py ESP32 PICO Adafruit QT Py ESP32-S3 4MB Flash 2MB PSRAM Adafruit QT Py ESP32-S3 no psram Adafruit QT Py ESP32C3 Adafruit QT Py ESP32S2 Adafruit Sparkle Motion Adafruit Sparkle Motion Stick Adafruit Vindie S2 Adafruit-Qualia-S3-RGB666 Ai Thinker ESP32-CAM Arduino Nano ESP32 Artisense Reference Design RD00 AutosportLabs-ESP32-CAN-X2 BARDUINO 4.0.2 BLING! BPI-Bit-S2 BPI-Leaf-S3 BPI-PicoW-S3 BastWiFi Bee-Data-Logger Bee-Motion-S3 Bee-S3 BlizzardS3 CRCibernetica IdeaBoard CircuitART Zero S3 ColumbiaDSL-Sensor-Board-V1 CrowPanel 4.2 EPaper CrumpS2 Cytron Maker Feather AIoT S3 DFRobot Beetle ESP32-C3 DFRobot FireBeetle 2 ESP32-S3 Deneyap Kart Deneyap Kart 1A Deneyap Kart 1A v2 Deneyap Kart G Deneyap Mini Deneyap Mini v2 EDGES3D ES3ink ESP 12k NodeMCU ESP32 Devkit V1 ESP32-C3-DevKitM-1 ESP32-C3-Lyra-V2 ESP32-C6-DevKitC-1-N8 ESP32-C6-DevKitM-1 ESP32-C61-DevKitC-1-N8R2 ESP32-S2-DevKitC-1-N4 ESP32-S2-DevKitC-1-N4R2 ESP32-S2-DevKitC-1-N8R2 ESP32-S3-Box-2.5 ESP32-S3-Box-Lite ESP32-S3-DevKitC-1-N16 ESP32-S3-DevKitC-1-N32R8 ESP32-S3-DevKitC-1-N8 ESP32-S3-DevKitC-1-N8R2 ESP32-S3-DevKitC-1-N8R2 (ROS version) ESP32-S3-DevKitC-1-N8R8 ESP32-S3-DevKitC-1-N8R8-with-HACKTABLET ESP32-S3-DevKitM-1-N8 ESP32-S3-EYE ESP32-S3-USB-OTG-N8 ESP8684-DevKitC-02-N4 Elecrow CrowPanel Espressif ESP32 DevKitc V4 WROOM-32E Espressif ESP32 DevKitc V4 WROVER Espressif ESP32 TTGO T8 v1.7 Espressif ESP32-EYE Espressif ESP32-LyraT Espressif-ESP32-S3-LCD-EV-Board Espressif-ESP32-S3-LCD-EV-Board_v1.5 FeatherS2 FeatherS2 Neo FeatherS2 PreRelease FeatherS3 FeatherS3 Neo Flipper Zero Wi-Fi Dev Franzininho WIFI w/Wroom Franzininho WIFI w/Wrover Freenove ESP32-WROVER-DEV-CAM Gravitech Cucumber M Gravitech Cucumber MS Gravitech Cucumber R Gravitech Cucumber RS HMI-DevKit-1.1 Hardkernel Odroid Go Heltec ESP32-S3-WIFI-LoRa-V3 Heltec Vison Master E290 Heltec Wireless Paper HexKyS2 IoTs2 Kaluga 1 LILYGO T-DISPLAY S3 v1.2 LILYGO T-Deck (Plus) LILYGO T-Display S3 Pro LILYGO T-Dongle S3 LILYGO T-QT PRO NO PSRAM LILYGO T-QT PRO PSRAM LILYGO T-Watch-S3 LILYGO TEMBED ESP32S3 LILYGO TTGO T-01C3 LILYGO TTGO T-DISPLAY v1.1 LILYGO TTGO T-DISPLAY v1.1 4M LILYGO TTGO T-OI PLUS LILYGO TTGO T8 ESP32-S2 LILYGO TTGO T8 ESP32-S2 w/Display LOLIN S3 16MB Flash 8MB PSRAM LOLIN S3 MINI 4MB Flash 2MB PSRAM LOLIN S3 MINI PRO 4MB Flash 2MB PSRAM LOLIN S3 PRO 16MB Flash 8MB PSRAM Lilygo T-watch 2020 V3 Luatos Core-ESP32C3 M5STACK STAMP-C3 M5Stack Atom Echo M5Stack Atom Lite M5Stack Atom Matrix M5Stack Atom U M5Stack AtomS3 M5Stack AtomS3 Lite M5Stack AtomS3U M5Stack Cardputer M5Stack Cardputer (ROS version) M5Stack Core Basic M5Stack Core Fire M5Stack Core2 M5Stack CoreS3 M5Stack Dial M5Stack DinMeter M5Stack M5Paper M5Stack Stamp-S3 M5Stack Stick C M5Stack Stick C Plus M5Stack Stick C Plus2 M5Stack Timer Camera X MORPHEANS MorphESP-240 MagiClick S3 N4R2 Maker Go ESP32C3 Supermini Maker Go ESP32C6 Supermini Maker badge by Czech maker MakerFabs-ESP32-S3-Parallel-TFT-With-Touch-7inch MicroDev microC3 MicroDev microS2 MixGo CE NanoS3 Neuron NodeMcu-ESP32-C2 OMGS3 Oak Dev Tech PixelWing ESP32S2 Oxocard Artwork Oxocard Connect Oxocard Galaxy Oxocard Science ProS3 Prokyber Ai-On-The-Edge-Cam RGBTouch Mini Red S2-WROOM S2Mini S2Pico SQFMI Watchy Saola 1 w/Wroom Saola 1 w/Wrover Seeed Studio XIAO ESP32C3 Seeed Xiao ESP32-C6 4MB Flash 512KB SRAM Seeed Xiao ESP32-S3 Sense Spotpear ESP32C3 LCD 1.44 Spotpear ESP32C3 LCD 1.69 Sunton ESP32-2424S012 Sunton-ESP32-8048S050 Sunton-ESP32-8048S070 TTGO T8 ESP32-S2-WROOM Targett Module Clip w/Wroom Targett Module Clip w/Wrover ThingPulse Pendrive S3 TinyC6 TinyPICO TinyPICO Nano TinyS2 TinyS3 TinyWATCH S3 VCC-GND YD-ESP32-S3 (N16R8) VCC-GND YD-ESP32-S3 (N8R8) VIDI X V1.1 Waveshare ESP32-C6 LCD 1.47 Waveshare ESP32-S2-Pico Waveshare ESP32-S2-Pico-LCD Waveshare ESP32-S3 LCD 1.47 Waveshare ESP32-S3 Touch LCD 1.47 Waveshare ESP32-S3 Touch LCD 2.8 Waveshare ESP32-S3-ETH Waveshare ESP32-S3-GEEK Waveshare ESP32-S3-Matrix Waveshare ESP32-S3-Pico Waveshare ESP32-S3-Tiny Waveshare ESP32-S3-Zero Waveshare ESP32S3 LCD 1.28 Waveshare ESP32S3 Touch LCD 2 WeAct ESP32-C6 (4MB) WeAct ESP32-C6 (8MB) WeMos LOLIN32 Lite Wemos Lolin C3 Mini Wemos Lolin C3 Pico cezerio dev ESP32C6 nanoESP32-S2 w/Wrover nanoESP32-S2 w/Wroom senseBox MCU-S2 ESP32S2 senseBox-eye ESP32S3 sunton_esp32_2432S024C sunton_esp32_2432S028 sunton_esp32_2432S032C\n\nProvides access to the ESP-NOW protocol.\n\nAllocate and initialize ESPNow instance as a singleton.\n\nbuffer_size (int) – The size of the internal ring buffer. Default: 526 bytes.\n\nphy_rate (int) – The ESP-NOW physical layer rate. Default: 1 Mbps. wifi_phy_rate_t\n\nDeinitializes ESP-NOW and releases it for another program.\n\nNo-op used by Context Managers.\n\nAutomatically deinitializes the hardware when exiting a context. See Lifetime and ContextManagers for more info.\n\nSend a message to the peer’s mac address.\n\nThis blocks until a timeout of 2 seconds if the ESP-NOW internal buffers are full.\n\nmessage (ReadableBuffer) – The message to send (length <= 250 bytes).\n\npeer (Peer) – Send message to this peer. If None, send to all registered peers.\n\nRead a packet from the receive buffer.\n\nThis is non-blocking, the packet is received asynchronously from the peer(s).\n\nAn ESPNowPacket if available in the buffer, otherwise None.\n\nThe number of tx packets received by the peer(s) ESP_NOW_SEND_SUCCESS. (read-only)\n\nThe number of failed tx packets ESP_NOW_SEND_FAIL. (read-only)\n\nThe number of rx packets captured in the buffer. (read-only)\n\nThe number of dropped rx packets due to buffer overflow. (read-only)\n\nSet the ESP-NOW Primary Master Key (pmk) for encrypted communications.\n\npmk (ReadableBuffer) – The ESP-NOW Primary Master Key (length = 16 bytes).\n\nThe size of the internal ring buffer. (read-only)\n\nThe ESP-NOW physical layer rate. wifi_phy_rate_t\n\nThe peer info records for all registered ESPNow peers. (read-only)\n\nTrue if len() is greater than zero. This is an easy way to check if the buffer is empty.\n\nReturn the number of bytes available to read. Used to implement len().\n\nA packet retrieved from ESP-NOW communication protocol. A namedtuple.\n\nThe sender’s mac address (length = 6 bytes).\n\nThe message sent by the peer (length <= 250 bytes).\n\nThe received signal strength indication (in dBm from -127 to 0).\n\nThe time in milliseconds since the device last booted when the packet was received.\n\nA data class to store parameters specific to a peer.\n\nConstruct a new peer object.\n\nmac (bytes) – The mac address of the peer.\n\nlmk (bytes) – The Local Master Key (lmk) of the peer.\n\nchannel (int) – The peer’s channel. Default: 0 ie. use the current channel.\n\ninterface (int) – The WiFi interface to use. Default: 0 ie. STA.\n\nencrypted (bool) – Whether or not to use encryption.\n\nThe WiFi channel to use.\n\nThe WiFi interface to use.\n\nWhether or not to use encryption.\n\nMaintains a list of Peer internally and only exposes a subset of list methods.\n\nYou cannot create an instance of Peers.\n\npeer (Peer) – The peer object to append.\n\npeer (Peer) – The peer object to remove.",
  "headings": [
    {
      "level": "h1",
      "text": "espnow – ESP-NOW Module",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "import espnow\n\ne = espnow.ESPNow()\npeer = espnow.Peer(mac=b'ªªªªªª')\ne.peers.append(peer)\n\ne.send(\"Starting...\")\nfor i in range(10):\n    e.send(str(i)*20)\ne.send(b'end')",
      "language": "python"
    },
    {
      "code": "import espnow\n\ne = espnow.ESPNow()\npackets = []\n\nwhile True:\n    if e:\n        packet = e.read()\n        packets.append(packet)\n        if packet.msg == b'end':\n            break\n\nprint(\"packets:\", f\"length={len(packets)}\")\nfor packet in packets:\n    print(packet)",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://docs.circuitpython.org/en/latest/docs/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/support_matrix.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_bleio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_eve/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_pew/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_pixelmap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/_stage/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/adafruit_bus_device/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/adafruit_pixelbuf/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/aesio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/alarm/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/analogbufio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/analogio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/atexit/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiobusio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiocore/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiodelays/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiofilters/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiofreeverb/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audioio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiomixer/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiomp3/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/audiopwmio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/aurora_epaper/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitbangio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitmapfilter/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitmaptools/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/bitops/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/board/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/busdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/busio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/camera/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/canio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/codeop/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/countio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/cyw43/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/digitalio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/displayio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/dotclockframebuffer/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/dualbank/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/epaperdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espcamera/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espidf/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espnow/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/espulp/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/floppyio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/fontio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/fourwire/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/framebufferio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/frequencyio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/getpass/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/gifio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/gnss/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/hashlib/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/i2cdisplaybus/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/i2ctarget/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/imagecapture/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ipaddress/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/is31fl3741/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/jpegio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/keypad/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/keypad_demux/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/locale/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/lvfontio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/math/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/max3421e/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/mdns/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/memorymap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/memorymonitor/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/microcontroller/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/micropython/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/mipidsi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/msgpack/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/neopixel_write/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/nvm/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/onewireio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/os/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/paralleldisplaybus/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/picodvi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ps2io/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/pulseio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/pwmio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/qrio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rainbowio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/random/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rclcpy/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rgbmatrix/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rotaryio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rp2pio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/rtc/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/samd/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sdcardio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sdioio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/sharpdisplay/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/socketpool/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/spitarget/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ssl/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/storage/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/struct/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/supervisor/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/synthio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/terminalio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/tilepalettemapper/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/time/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/touchio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/traceback/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/uheap/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ulab/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_cdc/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_hid/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_host/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_midi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/usb_video/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/ustack/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/vectorio/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/videocore/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/warnings/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/watchdog/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/wifi/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/zlib/index.html",
    "https://docs.circuitpython.org/en/latest/shared-bindings/help.html",
    "https://docs.circuitpython.org/en/latest/docs/library/index.html",
    "https://docs.circuitpython.org/en/latest/docs/supported_ports.html",
    "https://docs.circuitpython.org/en/latest/docs/troubleshooting.html",
    "https://docs.circuitpython.org/en/latest/docs/libraries.html",
    "https://docs.circuitpython.org/en/latest/docs/workflows.html",
    "https://docs.circuitpython.org/en/latest/docs/environment.html",
    "https://docs.circuitpython.org/en/latest/docs/design_guide.html",
    "https://docs.circuitpython.org/en/latest/docs/porting.html",
    "https://docs.circuitpython.org/en/latest/docs/common_hal.html",
    "https://docs.circuitpython.org/en/latest/docs/reference/glossary.html",
    "https://docs.circuitpython.org/en/latest/docs/LICENSE.html",
    "https://docs.circuitpython.org/en/latest/docs/library/builtins.html"
  ]
}